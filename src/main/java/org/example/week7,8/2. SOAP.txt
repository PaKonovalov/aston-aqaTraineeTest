SOAP - это протокол для взаимодействия веб-сервисов и клиентов

Взаимодействие осуществляется через XML

Любое сообщение в протоколе SOAP — это XML документ, состоящий из следующих элементов (тегов):

    - Envelope.
        Идентифицирует XML-документ как сообщение SOAP
        Корневой обязательный элемент. Определяет начало и окончание сообщения.

        Определяет XML-документ как сообщение SOAP с помощью пространства имен
        xmlns:soap=»http://www.w3.org/2003/05/soap-envelope/». Если в определении будет указан другой адрес,
        сервер вернет ошибку

    - Header.
        Необязательный элемент — заголовок. Содержит элементы, необходимые для обработки самого сообщения.
        Например, идентификатор сессии.

        В заголовке могут использоваться три атрибута:
                    - mustUnderstand — 1 или 0 — говорит принимающему приложению о том, следует ли распознавать
                    заголовок в обязательном или опциональном порядке.

                    - actor - задает конкретную конечную точку для сообщения
        
                    - encodingStyle - устанавливает специфическую кодировку для элемента. По умолчанию
                    SOAP-сообщение не имеет определенной кодировки.

    - Body.
        Основной элемент, содержит основную информацию сообщения. Обязательный.
        Сообщение, которое передает веб-приложение. Может содержать запрос к серверу или ответ от него

    - Fault.
        Элемент, содержащий информацию об ошибках, возникающих в процессе обработки сообщения. Необязательный.

        - faultcode — код неполадки;

        - faultstring — «человекопонятное» описание проблемы;

        - faultactor — информация о программном компоненте, который вызвал ошибку;

        - detail — дополнительные сведения о месте возникновения неполадки.

Пример запроса:

        <?xml version="1.0"?>
        <soap:Envelope
        	xmlns:soap="http://www.w3.org/2003/05/soap-envelope/"
        	soap:encodingStyle="http://www.w3.org/2003/05/soap-encoding">
        <soap:Body>
        	<m:GetPrice xmlns:m="https://online-shop.ru/prices">
        		<m:Item>Dell Vostro 3515-5371</m:Item>
        	</m:GetPrice>
        </soap:Body>
        </soap:Envelope>

Пример ответа:

    <?xml version="1.0"?>
    <soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope/"
    	soap:encodingStyle="http://www.w3.org/2003/05/soap-encoding">
    <soap:Body>
    	<m:GetPriceResponse xmlns:m="https://online-shop.ru/prices">
    		<m:Price>37299</m:Price>
    	</m:GetPriceResponse>
    </soap:Body>
    </soap:Envelope>

Преимущества:

    - Асинхронная обработка и последующий вызов. Стандарт SOAP 1.2 обеспечивает клиенту гарантированный
    уровень надежности и безопасности.

    - Операции с состоянием. Если приложение требует, чтобы состояние сохранялось от одного запроса к другому,
    то стандарт SOAP 1.2 предоставляет структуру для поддержки таких требований.

Недостатки:

    - объемные сообщения;

    - поддержка только одного формата — XML;

    - схема работы по принципу «один запрос — один ответ»;

    - смена описания веб-сервиса может нарушить работу клиента.